/*
* Jquery ThumbNail Scroller
* Version 1.0
* Author: Ivan GOnzales
* License: GNU
*/
(function($){ThumbScroller=function(el,options){this.create(el,options)};$.extend(ThumbScroller.prototype,{version:"1.0",create:function(el,options){this.defaults={imageNext:"images/ThumbNailsNext.png",imagePrev:"images/ThumbNailsPrev.png",width:""};this.obj=el,this.Attrib={};this.o={},this.o=$.extend(true,this.defaults,options);this.createScroller(el);this.createHtml();this.addStyles();this.addEvents()},createScroller:function(el){var size=0;var height=0;var $imgs=$(el).find("img");var $li=$(el).find("li");
var Count=$li.length;var outerW=0;var liH=0;var liW=0;var width=0;$li.each(function(i){liH=$(this).outerHeight(true);liW=$(this).outerWidth(true);width=$(this).width()});this.Attrib={width:liW*Count,count:Count,height:liH,tWidth:width}},addStyles:function(){var Attrib=this.Attrib;var mWidth=Math.ceil(Attrib["width"]/2);if(this.o["width"]!="")mWidth=parseInt(this.o["width"]);else if(mWidth>1E3)mWidth=mWidth-200;$(this.obj).css({width:Math.ceil(mWidth+Attrib["tWidth"]),position:"relative"});$("#myScroll ul").css({width:Attrib["width"]+
"px"});$(".jspContainer").css({height:Attrib["height"]+10+"px !important"});$("#myScroll").css({width:mWidth});$(".jspContainer").css({width:mWidth,height:Attrib["height"]+10});$(".jspPane").css({padding:0,width:mWidth,left:0});$(".jspTrack").css({width:mWidth});$(".jspDrag").css({width:Math.ceil((mWidth/2+Attrib["height"])/2)})},createHtml:function(){var $this=$(this.obj);var $ul=$(this.obj).find("ul");var html='<div id="prev"></div>';html+='<div id="myScroll" style="overflow: hidden; padding: 0px;" class="jspScrollable" tabindex="0">';
html+='<div class="jspContainer">';html+='\t<div class="jspPane"><ul>';html+=$ul.html();html+="</ul></div>";html+="</div>"+'<div class="jspHorizontalBar">'+'<div class="jspCap jspCapLeft">'+"</div>"+'<div class="jspTrack"">'+'<div class="jspDrag"">'+'<div class="jspDragLeft"></div>'+'<div class="jspDragRight"></div>'+"</div></div>"+'<div class="jspCap jspCapRight">'+"</div></div></div>";html+='<div id="next"></div>';$this.empty();$this.append(html)},autoPlay:function(){var $nxt=$("#next");var $prv=
$("#prev");setTimeout(function(){$nxt.trigger("click")},6E3);setInterval(this.autoPlay,5E3)},addEvents:function(){var $nxt=$("#next");var $prv=$("#prev");$prv.hide();var isPrev=false;var isPrevClick=false;$jspContainer=$(".jspContainer");$jspDrag=$(".jspDrage");var sizes=this.Attrib["width"];var limitPane=this.Attrib["width"];var jspW=$jspDrag.width();$(".jspDrag").bind("drag",function(event){var jspContainer=$(".jspContainer");var jspDrag=$(".jspDrag");var limits=jspContainer.width()-jspDrag.width();
var perClick=limits/6;var perC=(limitPane-jspContainer.width())/6;var ofset=jspContainer.width()/jspDrag.width();var jspleft=$(".jspDrag").position().left;var jspane=$(".jspPane").position().left;if(Math.abs($(".jspPane").position().left)>Math.abs(limitPane-$(".jspPane").width())){if(event.offsetX<Math.abs(limitPane-$(".jspPane").width()))$(".jspPane").css({left:-event.offsetX})}else if(Math.abs($(".jspPane").position().left)>0){if(event.offsetX>0)$(".jspPane").css({left:-event.offsetX})}else $(".jspPane").css({left:-event.offsetX},
"fast");if($(".jspDrag").position().left>Math.abs(limits)){if(event.offsetX<Math.abs(limits))$(this).css({left:event.offsetX})}else if($(".jspDrag").position().left<0){if(event.offsetX>0)$(this).css({left:event.offsetX})}else $(this).css({left:event.offsetX})});$nxt.bind("click",function(){isPrevClick=false;var jspContainer=$(".jspContainer");var jspDrag=$(".jspDrag");var limits=jspContainer.width()-jspDrag.width();var perClick=limits/6;var perC=(limitPane-jspContainer.width())/6;var ofset=jspContainer.width()/
jspDrag.width();var jspleft=$(".jspDrag").position().left;var jspane=$(".jspPane").position().left;var add=jspane-(perC+ofset);var toDrag=jspleft+perClick;if(Math.abs(toDrag)>Math.abs(limits)){add=Math.abs(jspane)+(jspane-Math.abs(limitPane-jspContainer.width()));toDrag=Math.abs(jspleft)+Math.abs(Math.abs(jspleft)-Math.abs(limits));$nxt.hide();setTimeout(function(){if(!isPrevClick){$(".jspDrag").animate({left:0},{duration:"fast",easing:"swing"});$(".jspPane").animate({left:0},{duration:"fast",easing:"swing"});
$nxt.show();$prv.hide()}},5E3)}$(".jspDrag").animate({left:toDrag+"px"},{duration:"fast",easing:"swing"});$(".jspPane").animate({left:add+"px"},{duration:"fast",easing:"swing"});if(toDrag>0)$prv.show();else $prv.hide()});$prv.bind("click",function(){isPrevClick=true;var jspContainer=$(".jspContainer");var jspDrag=$(".jspDrag");var limits=jspContainer.width()-jspDrag.width();var perClick=limits/6;var perC=(limitPane-jspContainer.width())/6;var ofset=jspContainer.width()/jspDrag.width();var jspleft=
$(".jspDrag").position().left;var jspane=$(".jspPane").position().left;var add=jspane+(perC+ofset);var toDrag=jspleft-perClick;if(toDrag<0){add=0;toDrag=0;$prv.hide()}$(".jspDrag").animate({left:toDrag+"px"},{duration:"fast",easing:"swing"});$(".jspPane").animate({left:add+"px"},{duration:"fast",easing:"swing"});if(toDrag<limits)$nxt.show();else $nxt.hide()})}});$.fn.myThumbScroll=function(options){var self=this;d=new ThumbScroller(this,options);d.autoPlay();return d}})(jQuery);
